<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Hibernate Search Mission - Spring Boot</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/wingcss/0.1.8/wing.min.css"/>
    <style>
        input[type=number] {
            width: 100%;
            padding: 12px 20px;
            margin: 8px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            -webkit-transition: .5s;
            transition: .5s;
            outline: 0;
            font-family: 'Open Sans', serif;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
        function search() {
            var author = document.getElementById('author').value;
            var content = document.getElementById('content').value;
            var date = document.getElementById('date').value;
            var obSelect = document.getElementById('orderBy');
            var orderBy = obSelect.options[obSelect.selectedIndex].value;
            var dSelect = document.getElementById('direction');
            var direction = dSelect.options[dSelect.selectedIndex].value;

            $.ajax({
                method: "POST",
                url: "/api/books/findForm",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: JSON.stringify({
                    author: author,
                    content: content,
                    releaseDate: date,
                    orderBy: orderBy,
                    direction: direction,
                    maxResults: 10
                })
            })
                    .done(function(results) {
                        $("#results").html(JSON.stringify(results)); //TODO: display results correctly
                    });
        }
    </script>
</head>
<body ng-app="BookManagement" ng-controller="BookManagementController">

<div>
    Author:
    <input type="text" id="author" name="author">
    <br> Content:
    <input type="text" id="content" name="content">
    <br> Release date:
    <input type="date" id="date" name="date">
    <br> Order By:
    <select id="orderBy">
        <option value="author">Author</option>
        <option value="releaseDate">Date</option>
    </select>
    <br> Direction:
    <select id="direction">
        <option value="asc">Ascending</option>
        <option value="desc">Descending</option>
    </select>
    <br>

    <button onclick="search();">Search!</button>
</div>

<hr/>

<div id="results">
</div>

</body>
</html>
